FL-22-Oct-2015 Created
FL-08-Feb-2016 Changed

Create a virtualenv Python-2.7.11

On NB-030018 with CentOS-7.2
	use the _new_ setuptools
	use pip instead of easy_install
	use unicode ucs4 instead of ucs2

-1- Create a normal Python-2.7.11 from its source. 
	Get Python-2.7.11 from https://www.python.org/downloads/release/python-2711/
		$ tar -zxf Python-2.7.11.tgz
		$ cd Python-2.7.11
	Installation directory will be: ~/opt/Python/python-2.7.11
		$ export PYTHON_LOCAL=~/opt/Python/python-2.7.11
		$ ./configure --enable-unicode=ucs4 --prefix=$PYTHON_LOCAL
		$ make

		The following warnings can be ignored: 
		Python build finished, but the necessary bits to build these modules were not found:
			bsddb185			# "Berkeley db 1.85": really old version, so forget it.
			dl					# "SGI-specific modules", so forget it.
			imageop				# "These don't work for 64-bit platforms", so forget it.
			sunaudiodev			# "SunOS specific", so forget it.
		To find the necessary bits, look in setup.py in detect_modules() for the module's name.

		If there are other modules that could not be built, that can be remedied by installing 
		the needed additional linux packages, and re-make. 
		
		$ make altinstall		# alt: do not [try to] replace /usr/bin/python

	Create a script ~/bin/python2711
	activate this python
		$ source ~/bin/python2711
	check: 
		$ python -V


-2- Add setuptools (pip requires setuptools)
		$ wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O - | python
		 -> setuptools-18.4 in $PYTHON_LOCAL/lib/python2.7/site-packages

-3- Add pip
	Python 2.7.9 and later (on the python2 series), and Python 3.4 and later include pip by default, 
	otherwise: 
		$ easy_install --verbose --prefix=$PYTHON_LOCAL pip
		-> pip-8.0.2 in $PYTHON_LOCAL/lib/python2.7/site-packages

-4- Add virtualenv
	The default build directory for pip is /tmp/pip-build/
	If that is 'taken' by another user, you can specify a different location with 
			--build <build_dir>
		$ pip install --verbose --install-option="--prefix=$PYTHON_LOCAL" virtualenv
		$ pip install --verbose --install-option="--prefix=$PYTHON_LOCAL" --build ~/tmp/pip-build virtualenv
		-> virtualenv-13.1.2 in $PYTHON_LOCAL/lib/python2.7/site-packages

-5- Create a virtualenv python for HSNmail somewhere, say in HSNMAIL_PARENT
		$ cd $HSNMAIL_PARENT
	use the created python
		$ source ~/bin/python2711
	create a virtualenv python; its top-level directory will be python2711
		$ virtualenv python2711
	use it
		$ source python2711/bin/activate
	notice that your prompt is now prefixed with '(python2711)'

[eof]
